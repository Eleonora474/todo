{"version":3,"sources":["hooks/useInputValue.js","todo/context.js","todo/TodoItem/TodoItem.js","todo/Modal/Modal.js","todo/TodoList.js","todo/Loader.js","Icon.js","App.js","index.js"],"names":["useInputValue","defaultValue","useState","value","setValue","bind","onChange","event","target","clear","Context","React","createContext","styles","li","display","justifyContent","wordBreak","alignItems","padding","border","borderRadius","marginBottom","input","marginRight","cursor","TodoItem","todo","index","openModal","removeTodo","useContext","style","className","type","checked","completed","id","htmlFor","title","onClick","data-tip","data-for","place","effect","Modal","editData","closeModal","isOpen","onSave","useEffect","e","classList","contains","editedTodo","ul","listStyle","margin","TodoList","props","setEditData","setIsOpen","data","todos","map","onToggle","onEdit","Loader","stule","Icon","enableBackground","height","width","viewBox","clipRule","fillRule","d","fill","AddTodo","lazy","getValidDate","date","day","month","join","today","Date","toLocaleDateString","replaceAll","split","reverse","App","monthTodos","setMonthTodos","currentDate","setCurrentDate","length","dayTodos","setDayTodos","isMonthView","setIsMonthView","showMonthTodos","Object","hasOwnProperty","call","element","push","todosFromStorage","JSON","parse","localStorage","getItem","setItem","stringify","Provider","prevMonthTodos","filter","getCalendarValue","marginLeft","Suspense","fallback","onCreate","newTodo","now","prevTodos","t","newMonthTodos","keys","forEach","k","hash","assign","align","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"yKAEe,SAASA,IAAkC,IAApBC,EAAmB,uDAAJ,GAAI,EAC7BC,mBAASD,GADoB,mBAChDE,EADgD,KACzCC,EADyC,KAGvD,MAAO,CACLC,KAAM,CACJF,QACAG,SAAU,SAACC,GAAD,OAAWH,EAASG,EAAMC,OAAOL,SAE7CM,MAAO,kBAAML,EAAS,KACtBD,MAAO,kBAAMA,GACbC,c,uLCRWM,EAFCC,IAAMC,gB,eCIhBC,EAAS,CACbC,GAAI,CACFC,QAAS,OACTC,eAAgB,gBAChBC,UAAW,YACXC,WAAY,SACZC,QAAS,aACTC,OAAQ,+BACRC,aAAc,MACdC,aAAc,SAEhBC,MAAO,CACLC,YAAa,OACbC,OAAQ,YA4CGC,MAxCf,YAAyD,IAArCC,EAAoC,EAApCA,KAAarB,GAAuB,EAA9BsB,MAA8B,EAAvBtB,UAAUuB,EAAa,EAAbA,UACjCC,EAAeC,qBAAWrB,GAA1BoB,WAER,OACE,qBAAIE,MAAOnB,EAAOC,GAAlB,UACE,sBAAKmB,UAAU,qBAAf,UACE,uBACEC,KAAK,WACLC,QAASR,EAAKS,UACd9B,SAAU,kBAAMA,EAASqB,EAAKU,KAC9BA,GAAIV,EAAKU,KAEX,uBAAOC,QAASX,EAAKU,GAArB,SAA0BV,EAAKY,WAEjC,sBAAKN,UAAU,iBAAf,UACE,wBACEA,UAAU,WACVO,QAASX,EAAUxB,KAAK,KAAMsB,GAC9Bc,WAAS,iFACTC,WAAS,SAEX,wBACET,UAAU,SACVO,QAASV,EAAWzB,KAAK,KAAMsB,EAAKU,IACpCI,WAAS,6CACTC,WAAS,SAGX,cAAC,IAAD,CAAcL,GAAG,OAAOM,MAAM,MAAMT,KAAK,OAAOU,OAAO,iB,sBChDhD,SAASC,EAAT,GAA0D,IAAzCC,EAAwC,EAAxCA,SAAUC,EAA8B,EAA9BA,WAAYC,EAAkB,EAAlBA,OAAQC,EAAU,EAAVA,OAAU,EACvCjD,YAAc,IAArCI,EAD8D,EAC9DA,SAAamB,EADiD,4BAmBtE,OAhBA2B,qBAAU,WACJJ,GACF1C,EAAS0C,EAASP,SAEnB,CAACO,EAAU1C,IAaZ,qBACE4B,MAAO,CAAEjB,QAASiC,EAAS,QAAU,QACrCR,QAAS,SAACW,GACJA,EAAE3C,OAAO4C,UAAUC,SAAS,UAC9BN,KAGJd,UAAU,QAPZ,SASE,sBAAKA,UAAU,gBAAf,UACE,sBAAKA,UAAU,eAAf,UACE,2JACA,sBAAMO,QAASO,EAAYd,UAAU,QAArC,qBAIF,sBAAKA,UAAU,aAAf,UACE,mCAAOA,UAAU,SAAYV,EAAMlB,OACnC,wBAAQ4B,UAAU,aAAaO,QA7BvC,WACE,IAAMc,EAAU,2BACXR,GADW,IAEdP,MAAOhB,EAAMpB,UAEf8C,EAAOK,GACP/B,EAAMd,QACNsC,KAsBM,4ECpCV,IAAMlC,EAAS,CACb0C,GAAI,CACFC,UAAW,OACXC,OAAQ,EACRtC,QAAS,IA8CEuC,MA1Cf,SAAkBC,GAAQ,IAAD,EACSzD,qBADT,mBAChB4C,EADgB,KACNc,EADM,OAEK1D,oBAAS,GAFd,mBAEhB8C,EAFgB,KAERa,EAFQ,KAOvB,SAAShC,EAAUiC,GACjBF,EAAYE,GACZD,GAAU,GAGZ,OACE,qCACE,oBAAI7B,MAAOnB,EAAO0C,GAAlB,SACGI,EAAMI,MAAMC,KAAI,SAACrC,EAAMC,GACtB,OACE,cAAC,EAAD,CACEC,UAAWA,EACXF,KAAMA,EAENC,MAAOA,EACPtB,SAAUqD,EAAMM,UAFXtC,EAAKU,SAOlB,cAAC,EAAD,CACEY,OAAQU,EAAMO,OACdpB,SAAUA,EACVE,OAAQA,EACRD,WA3BN,WACEc,GAAU,UChBC,SAASM,IACtB,OACE,qBAAKC,MAAO,CAAErD,QAAS,OAAQC,eAAgB,SAAUyC,OAAQ,QAAjE,SACE,sBAAKxB,UAAU,eAAf,UACE,wBACA,wBACA,wBACA,6BCPO,SAASoC,IACtB,OACE,qBACEhC,GAAG,UACHiC,iBAAiB,kBACjBC,OAAO,KACPC,MAAM,KACNC,QAAQ,cALV,SAOE,8BACE,oBAAGC,SAAS,UAAUC,SAAS,UAA/B,UACE,sBACEC,EAAE,wGACFC,KAAK,YAEP,sBACED,EAAE,oGACFC,KAAK,YAEP,sBACED,EAAE,yGACFC,KAAK,YAEP,sBACED,EAAE,yGACFC,KAAK,YAEP,sBACED,EAAE,yGACFC,KAAK,YAEP,sBACED,EAAE,yGACFC,KAAK,YAEP,sBACED,EAAE,qGACFC,KAAK,SAEP,sBACED,EAAE,8OACFC,KAAK,YAEP,sBACED,EAAE,qHACFC,KAAK,YAEP,sBACED,EAAE,mHACFC,KAAK,SAEP,sBACED,EAAE,6GACFC,KAAK,YAEP,sBAAMD,EAAE,qCAAqCC,KAAK,eAEpD,8BACE,sBAAMD,EAAE,gQACR,sBAAMA,EAAE,6GACR,sBAAMA,EAAE,6GACR,sBAAMA,EAAE,qxDACR,sBAAMA,EAAE,yHCzDlB,IAAME,EAAUnE,IAAMoE,MAAK,kBAAM,gCAEjC,SAASC,EAAaC,GACpB,IAAMC,EAAqB,MAAfD,EAAK,GAAG,GAAaA,EAAK,GAAG,GAAKA,EAAK,GACnD,MAAO,CAAEE,MAAO,CAACF,EAAK,GAAIA,EAAK,IAAIG,KAAK,KAAMF,OAEhD,IAAMG,EAAQL,GACZ,IAAIM,MAAOC,qBAAqBC,WAAW,IAAK,KAAKC,MAAM,KAAKC,WAmLnDC,MAhLf,WAAgB,IAAD,IACuBhF,IAAMT,SAAS,IADtC,mBACN0F,EADM,KACMC,EADN,OAEyB3F,mBAASmF,GAFlC,mBAENS,EAFM,KAEOC,EAFP,OAGmB7F,oBAC9B,UAAA0F,EAAWE,EAAYZ,YAAvB,eAA6Bc,QAASJ,EAAWE,EAAYZ,KAAO,IAJzD,mBAGNe,EAHM,KAGIC,EAHJ,OAMyBhG,oBAAS,GANlC,mBAMNiG,EANM,KAMOC,EANP,KAsHb,SAASC,IACP,IAAMtC,EAAQ,GACd,IAAK,IAAMmB,KAAOU,EAChB,GAAIU,OAAOC,eAAeC,KAAKZ,EAAYV,GAAM,CAC/C,IAAMuB,EAAUb,EAAWV,GAC3BnB,EAAM2C,KAAN,MAAA3C,EAAK,YAAS0C,IAGlBP,EAAYnC,GACZqC,GAAe,GAQjB,OA/HAlD,qBAAU,WACR,IAAMyD,EAAmBC,KAAKC,MAC5BC,aAAaC,QAAQjB,EAAYX,QAAU,MAE7CU,EAAcc,KACb,CAACb,IAEJ5C,qBAAU,WAIW,IAAD,GAHd4C,GACFgB,aAAaE,QAAQlB,EAAYX,MAAOyB,KAAKK,UAAUrB,IAEpDO,GAKHE,IAJAH,GACE,UAAAN,EAAWE,EAAYZ,YAAvB,eAA6Bc,QAASJ,EAAWE,EAAYZ,KAAO,MAKvE,CAACY,EAAaF,IA8Gf,cAAC,EAAQsB,SAAT,CAAkB/G,MAAO,CAAE2B,WAlF7B,SAAoBO,GAClBwD,GAAc,SAACsB,GACb,OAAO,2BACFA,GADL,kBAEGrB,EAAYZ,IAAMiC,EAAerB,EAAYZ,KAAKkC,QACjD,SAACzF,GAAD,OAAUA,EAAKU,KAAOA,YA6E5B,SACE,sBAAKJ,UAAU,UAAf,UACE,+FACa,cAACoC,EAAD,OAEb,gCACE,uBACEnC,KAAK,OACL/B,MAfV,WACE,IAAM+E,EACuB,IAA3BY,EAAYZ,IAAIc,OAAe,IAAMF,EAAYZ,IAAMY,EAAYZ,IAErE,OADcY,EAAYX,MAAQ,IAAMD,EAYzBmC,GACP/G,SArHV,SAAsB6C,GACpB4C,EAAef,EAAa7B,EAAE3C,OAAOL,MAAMsF,MAAM,OACjDW,GAAe,MAqHT,wBACE5D,QAAS6D,EACTrE,MAAO,CAAEsF,WAAY,SACrB7E,WAAS,gJACTC,WAAS,OAJX,4CAQA,cAAC,IAAD,CAAcL,GAAG,OAAOM,MAAM,MAAMT,KAAK,OAAOU,OAAO,aAEzD,cAAC,IAAM2E,SAAP,CAAgBC,SAAU,cAACrD,EAAD,IAA1B,SACE,cAACW,EAAD,CAAS2C,SA7FjB,SAAiBlF,GACf,IAAMmF,EAAU,CACdnF,QACAF,GAAIiD,KAAKqC,MACTvF,WAAW,GAGbyD,GAAc,SAAC+B,GAAe,IAAD,EACrBC,GAAI,UAAAD,EAAU9B,EAAYZ,YAAtB,eAA4Bc,QAA5B,sBACF4B,EAAU9B,EAAYZ,MADpB,CAC0BwC,IAChC,CAACA,GAOL,OALc,2BACTE,GADS,kBAEX9B,EAAYZ,IAAM2C,YAiFnB,qBAAK7F,MAAO,CAAEwC,MAAO,QAArB,SACGyB,EAASD,OACR,cAAC,EAAD,CACEjC,MAAOkC,EACPhC,SApIZ,SAAoB5B,GAClBwD,GAAc,SAACsB,GACb,IAAMW,EAAgB,GAgBtB,OAfAxB,OAAOyB,KAAKZ,GAAgBa,SAAQ,SAAUC,GAC5Cd,EAAec,GAAGD,SAAQ,SAAUH,GAClC,IAAIK,EAAO5B,OAAO6B,OAAON,GACrBK,EAAK7F,KAAOA,IACd6F,EAAI,2BACCA,GADD,IAEF9F,WAAY8F,EAAK9F,aAGhB0F,EAAcG,KACjBH,EAAcG,GAAK,IAErBH,EAAcG,GAAGvB,KAAKwB,SAGnBJ,MAmHC5D,OAhFZ,SAAkBZ,GAEduC,EADEM,EACY,SAACgB,GACb,IAAMW,EAAgB,GAatB,OAZAxB,OAAOyB,KAAKZ,GAAgBa,SAAQ,SAAUC,GAC5Cd,EAAec,GAAGD,SAAQ,SAAUH,GAClC,IAAIK,EAAO5B,OAAO6B,OAAON,GACrBK,EAAK7F,KAAOiB,EAAWjB,KACzB6F,EAAO5E,GAEJwE,EAAcG,KACjBH,EAAcG,GAAK,IAErBH,EAAcG,GAAGvB,KAAKwB,SAGnBJ,GAGK,SAACX,GACb,OAAO,2BACFA,GADL,kBAEGrB,EAAYZ,IAAMiC,EAAerB,EAAYZ,KAAKlB,KAAI,SAACrC,GACtD,OAAIA,EAAKU,KAAOiB,EAAWjB,GAClBiB,EAEF3B,YAyDP,mBAAGyG,MAAM,SAAT,2GCpLZC,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,W","file":"static/js/main.17492aa5.chunk.js","sourcesContent":["import { useState } from 'react'\r\n\r\nexport default function useInputValue(defaultValue = '') {\r\n  const [value, setValue] = useState(defaultValue)\r\n\r\n  return {\r\n    bind: {\r\n      value,\r\n      onChange: (event) => setValue(event.target.value),\r\n    },\r\n    clear: () => setValue(''),\r\n    value: () => value,\r\n    setValue,\r\n  }\r\n}\r\n","import React from 'react'\r\n\r\nconst Context = React.createContext()\r\n\r\nexport default Context\r\n","import React, { useContext } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport Context from '../context'\r\nimport './TodoItem.css'\r\nimport ReactTooltip from 'react-tooltip'\r\n\r\nconst styles = {\r\n  li: {\r\n    display: 'flex',\r\n    justifyContent: 'space-between',\r\n    wordBreak: 'break-all',\r\n    alignItems: 'center',\r\n    padding: '.5rem 1rem',\r\n    border: '1px solid rgb(181, 179, 238)',\r\n    borderRadius: '4px',\r\n    marginBottom: '.5rem',\r\n  },\r\n  input: {\r\n    marginRight: '1rem',\r\n    cursor: 'pointer',\r\n  },\r\n}\r\n\r\nfunction TodoItem({ todo, index, onChange, openModal }) {\r\n  const { removeTodo } = useContext(Context)\r\n\r\n  return (\r\n    <li style={styles.li}>\r\n      <div className=\"checkbox-container\">\r\n        <input\r\n          type=\"checkbox\"\r\n          checked={todo.completed}\r\n          onChange={() => onChange(todo.id)}\r\n          id={todo.id}\r\n        />\r\n        <label htmlFor={todo.id}>{todo.title}</label>\r\n      </div>\r\n      <div className=\"action-buttons\">\r\n        <button\r\n          className=\"btn edit\"\r\n          onClick={openModal.bind(null, todo)}\r\n          data-tip=\"Редактировать\"\r\n          data-for=\"main\"\r\n        />\r\n        <button\r\n          className=\"btn rm\"\r\n          onClick={removeTodo.bind(null, todo.id)}\r\n          data-tip=\"Удалить\"\r\n          data-for=\"main\"\r\n        />\r\n\r\n        <ReactTooltip id=\"main\" place=\"top\" type=\"dark\" effect=\"solid\" />\r\n      </div>\r\n    </li>\r\n  )\r\n}\r\n\r\nTodoItem.propTypes = {\r\n  todo: PropTypes.object.isRequired,\r\n  index: PropTypes.number,\r\n  onChange: PropTypes.func.isRequired,\r\n}\r\n\r\nexport default TodoItem\r\n","import React, { useEffect } from 'react'\r\nimport useInputValue from '../../hooks/useInputValue'\r\nimport './Modal.css'\r\nexport default function Modal({ editData, closeModal, isOpen, onSave }) {\r\n  const { setValue, ...input } = useInputValue('')\r\n\r\n  useEffect(() => {\r\n    if (editData) {\r\n      setValue(editData.title)\r\n    }\r\n  }, [editData, setValue])\r\n\r\n  function onSubmit() {\r\n    const editedTodo = {\r\n      ...editData,\r\n      title: input.value(),\r\n    }\r\n    onSave(editedTodo)\r\n    input.clear()\r\n    closeModal()\r\n  }\r\n\r\n  return (\r\n    <div\r\n      style={{ display: isOpen ? 'block' : 'none' }}\r\n      onClick={(e) => {\r\n        if (e.target.classList.contains('modal')) {\r\n          closeModal()\r\n        }\r\n      }}\r\n      className=\"modal\"\r\n    >\r\n      <div className=\"modal-content\">\r\n        <div className=\"modal-header\">\r\n          <h2>Редактирование задачи</h2>\r\n          <span onClick={closeModal} className=\"close\">\r\n            &times;\r\n          </span>\r\n        </div>\r\n        <div className=\"modal-body\">\r\n          <input className=\"input\" {...input.bind} />\r\n          <button className=\"btn submit\" onClick={onSubmit}>\r\n            Сохранить\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","import React, { useState, useEffect } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport TodoItem from './TodoItem/TodoItem'\r\nimport Modal from './Modal/Modal'\r\n\r\nconst styles = {\r\n  ul: {\r\n    listStyle: 'none',\r\n    margin: 0,\r\n    padding: 0,\r\n  },\r\n}\r\n\r\nfunction TodoList(props) {\r\n  const [editData, setEditData] = useState()\r\n  const [isOpen, setIsOpen] = useState(false)\r\n\r\n  function closeModal() {\r\n    setIsOpen(false)\r\n  }\r\n  function openModal(data) {\r\n    setEditData(data)\r\n    setIsOpen(true)\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <ul style={styles.ul}>\r\n        {props.todos.map((todo, index) => {\r\n          return (\r\n            <TodoItem\r\n              openModal={openModal}\r\n              todo={todo}\r\n              key={todo.id}\r\n              index={index}\r\n              onChange={props.onToggle}\r\n            />\r\n          )\r\n        })}\r\n      </ul>\r\n      <Modal\r\n        onSave={props.onEdit}\r\n        editData={editData}\r\n        isOpen={isOpen}\r\n        closeModal={closeModal}\r\n      />\r\n    </>\r\n  )\r\n}\r\n\r\nTodoList.propTypes = {\r\n  todos: PropTypes.arrayOf(PropTypes.object).isRequired,\r\n  onToggle: PropTypes.func.isRequired,\r\n}\r\n\r\nexport default TodoList\r\n","import React from 'react'\r\n\r\nexport default function Loader() {\r\n  return (\r\n    <div stule={{ display: 'flex', justifyContent: 'center', margin: '5rem' }}>\r\n      <div className=\"lds-ellipsis\">\r\n        <div></div>\r\n        <div></div>\r\n        <div></div>\r\n        <div></div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","import React from 'react'\r\n\r\nexport default function Icon() {\r\n  return (\r\n    <svg\r\n      id=\"Layer_1\"\r\n      enableBackground=\"new 0 0 512 512\"\r\n      height=\"35\"\r\n      width=\"35\"\r\n      viewBox=\"0 0 512 512\"\r\n    >\r\n      <g>\r\n        <g clipRule=\"evenodd\" fillRule=\"evenodd\">\r\n          <path\r\n            d=\"m466 27.891h-30v64.109l30-10.685c5.217-1.858 10-4.809 10-10.685v-32.055c0-5.876-4.5-10.684-10-10.684z\"\r\n            fill=\"#ff5a58\"\r\n          />\r\n          <path\r\n            d=\"m466 92h-30v64.109l30-10.685c5.217-1.858 10-4.809 10-10.685v-32.054c0-5.877-4.5-10.685-10-10.685z\"\r\n            fill=\"#ffc144\"\r\n          />\r\n          <path\r\n            d=\"m466 156.109h-30v64.109l30-10.685c5.217-1.858 10-4.809 10-10.685v-32.055c0-5.876-4.5-10.684-10-10.684z\"\r\n            fill=\"#c68a65\"\r\n          />\r\n          <path\r\n            d=\"m466 220.218h-30v64.109l30-10.685c5.217-1.858 10-4.809 10-10.685v-32.055c0-5.876-4.5-10.684-10-10.684z\"\r\n            fill=\"#66e0f7\"\r\n          />\r\n          <path\r\n            d=\"m466 284.327h-30v64.109l30-10.685c5.217-1.858 10-4.809 10-10.685v-32.055c0-5.876-4.5-10.684-10-10.684z\"\r\n            fill=\"#cbe558\"\r\n          />\r\n          <path\r\n            d=\"m466 348.436h-30v64.109l30-10.685c5.217-1.858 10-4.809 10-10.685v-32.055c0-5.875-4.5-10.684-10-10.684z\"\r\n            fill=\"#6d91ac\"\r\n          />\r\n          <path\r\n            d=\"m236.001 200.004h100c11 0 20-9 20-20v-40c0-11-9-20-20-20h-100c-11 0-20 9-20 20v40c0 11 9 20 20 20z\"\r\n            fill=\"#fff\"\r\n          />\r\n          <path\r\n            d=\"m236.001 200.004c-11 0-20-9-20-20v-40c0-11 9-20 20-20h100c11 0 20 9 20 20v40c0 11-9 20-20 20zm-99.998-190.004v420.436h282.106c9.84 0 17.891-8.05 17.891-17.891v-64.109-64.109-64.109-64.109-64.109-64.109c0-9.84-8.05-17.891-17.891-17.891z\"\r\n            fill=\"#b5b3ee\"\r\n          />\r\n          <path\r\n            d=\"m76.001 430.436v-420.436h-4.22c-19.679 0-35.781 16.102-35.781 35.782v420.436c0-19.681 16.101-35.782 35.781-35.782z\"\r\n            fill=\"#8481e2\"\r\n          />\r\n          <path\r\n            d=\"m395.998 430.436h-319.997-4.22c-19.68 0-35.781 16.101-35.781 35.782 0 19.68 16.103 35.782 35.781 35.782h324.217z\"\r\n            fill=\"#fff\"\r\n          />\r\n          <path\r\n            d=\"m395.998 430.436v71.564h22.111c9.84 0 17.891-8.051 17.891-17.891v-71.564c0 9.84-8.05 17.891-17.891 17.891z\"\r\n            fill=\"#8481e2\"\r\n          />\r\n          <path d=\"m76.001 10h60.002v420.436h-60.002z\" fill=\"#9d9ae8\" />\r\n        </g>\r\n        <g>\r\n          <path d=\"m336.001 110.003h-100c-16.542 0-30 13.458-30 30v40c0 16.542 13.458 30 30 30h100c16.542 0 30-13.458 30-30v-40c0-16.542-13.458-30-30-30zm10 70.001c0 5.514-4.486 10-10 10h-100c-5.514 0-10-4.486-10-10v-40c0-5.514 4.486-10 10-10h100c5.514 0 10 4.486 10 10z\" />\r\n          <path d=\"m356.001 310.432h-140c-5.523 0-10 4.477-10 10s4.477 10 10 10h140c5.523 0 10-4.477 10-10s-4.477-10-10-10z\" />\r\n          <path d=\"m356.001 270.431h-140c-5.523 0-10 4.477-10 10s4.477 10 10 10h140c5.523 0 10-4.477 10-10s-4.477-10-10-10z\" />\r\n          <path d=\"m486 70.63v-32.055c0-11.406-8.803-20.685-19.624-20.685h-22.237c-4.03-10.452-14.175-17.89-26.03-17.89h-346.328c-25.243 0-45.781 20.538-45.781 45.782v420.436c0 25.244 20.538 45.782 45.781 45.782h346.328c15.379 0 27.891-12.512 27.891-27.891v-64.045l23.846-8.825c13.352-4.94 16.154-13.637 16.154-20.063v-32.055c0-6.717-3.053-12.696-7.773-16.477 6.233-4.804 7.773-10.814 7.773-15.577v-32.055c0-6.717-3.053-12.696-7.773-16.477 6.233-4.804 7.773-10.814 7.773-15.577v-32.055c0-6.717-3.053-12.696-7.773-16.478 6.234-4.804 7.773-10.814 7.773-15.577v-32.055c0-6.717-3.053-12.696-7.773-16.477 6.233-4.804 7.773-10.814 7.773-15.578v-32.054c0-6.717-3.053-12.696-7.773-16.477 6.233-4.803 7.773-10.814 7.773-15.577zm-440-24.848c0-12.229 8.56-22.489 20.001-25.12v154.582c0 5.523 4.477 10 10 10s10-4.477 10-10v-155.244h40.002v400.436h-40.002v-155.193c0-5.523-4.477-10-10-10s-10 4.477-10 10v155.563c-7.348.93-14.16 3.602-20.001 7.597zm0 420.436c0-14.216 11.565-25.782 25.781-25.782h314.217v51.564h-314.217c-14.216 0-25.781-11.566-25.781-25.782zm380 17.891c0 4.351-3.54 7.891-7.891 7.891h-12.111v-51.563h12.111c2.739 0 5.388-.397 7.891-1.136zm0-71.564c0 4.351-3.54 7.891-7.891 7.891h-272.106v-400.436h272.105c4.351 0 7.891 3.54 7.891 7.891v384.654zm39.998-21.605c-.347.278-1.205.843-3.093 1.542l-16.905 6.256v-40.302h19.854c.073.147.146.376.146.685zm0-64.109c-.347.278-1.205.843-3.093 1.542l-16.905 6.256v-40.302h19.854c.073.147.146.376.146.685zm0-64.109c-.347.278-1.205.843-3.093 1.542l-16.905 6.256v-40.302h19.854c.073.147.146.377.146.685zm0-64.11c-.347.278-1.205.843-3.093 1.542l-16.905 6.257v-40.302h19.854c.073.147.146.376.146.685zm0-64.109c-.347.278-1.205.843-3.093 1.542l-16.905 6.257v-40.302h19.854c.073.147.146.376.146.685zm0-64.108c-.347.278-1.205.843-3.093 1.542l-16.905 6.256v-40.302h19.854c.073.147.146.376.146.685z\" />\r\n          <path d=\"m76.001 230.247c5.523 0 10-4.477 10-10v-.007c0-5.523-4.477-9.996-10-9.996s-10 4.48-10 10.003 4.478 10 10 10z\" />\r\n        </g>\r\n      </g>\r\n    </svg>\r\n  )\r\n}\r\n","import React, { useEffect, useState } from 'react'\nimport TodoList from './todo/TodoList'\nimport Context from './todo/context'\nimport Loader from './todo/Loader'\nimport Icon from './Icon'\nimport ReactTooltip from 'react-tooltip'\n\nconst AddTodo = React.lazy(() => import('./todo/AddTodo.js'))\n\nfunction getValidDate(date) {\n  const day = date[2][0] === '0' ? date[2][1] : date[2]\n  return { month: [date[0], date[1]].join('-'), day }\n}\nconst today = getValidDate(\n  new Date().toLocaleDateString().replaceAll('.', '/').split('/').reverse()\n)\n\nfunction App() {\n  const [monthTodos, setMonthTodos] = React.useState({})\n  const [currentDate, setCurrentDate] = useState(today)\n  const [dayTodos, setDayTodos] = useState(\n    monthTodos[currentDate.day]?.length ? monthTodos[currentDate.day] : []\n  )\n  const [isMonthView, setIsMonthView] = useState(false)\n\n  useEffect(() => {\n    const todosFromStorage = JSON.parse(\n      localStorage.getItem(currentDate.month) || '{}'\n    )\n    setMonthTodos(todosFromStorage)\n  }, [currentDate])\n\n  useEffect(() => {\n    if (currentDate) {\n      localStorage.setItem(currentDate.month, JSON.stringify(monthTodos))\n    }\n    if (!isMonthView) {\n      setDayTodos(\n        monthTodos[currentDate.day]?.length ? monthTodos[currentDate.day] : []\n      )\n    } else {\n      showMonthTodos()\n    }\n  }, [currentDate, monthTodos])\n\n  function onDateChange(e) {\n    setCurrentDate(getValidDate(e.target.value.split('-')))\n    setIsMonthView(false)\n  }\n  function toggleTodo(id) {\n    setMonthTodos((prevMonthTodos) => {\n      const newMonthTodos = {}\n      Object.keys(prevMonthTodos).forEach(function (k) {\n        prevMonthTodos[k].forEach(function (t) {\n          let hash = Object.assign(t)\n          if (hash.id === id) {\n            hash = {\n              ...hash,\n              completed: !hash.completed,\n            }\n          }\n          if (!newMonthTodos[k]) {\n            newMonthTodos[k] = []\n          }\n          newMonthTodos[k].push(hash)\n        })\n      })\n      return newMonthTodos\n    })\n  }\n\n  function removeTodo(id) {\n    setMonthTodos((prevMonthTodos) => {\n      return {\n        ...prevMonthTodos,\n        [currentDate.day]: prevMonthTodos[currentDate.day].filter(\n          (todo) => todo.id !== id\n        ),\n      }\n    })\n  }\n\n  function addTodo(title) {\n    const newTodo = {\n      title,\n      id: Date.now(),\n      completed: false,\n    }\n\n    setMonthTodos((prevTodos) => {\n      const t = prevTodos[currentDate.day]?.length\n        ? [...prevTodos[currentDate.day], newTodo]\n        : [newTodo]\n\n      const newTodos = {\n        ...prevTodos,\n        [currentDate.day]: t,\n      }\n\n      return newTodos\n    })\n  }\n  function editTodo(editedTodo) {\n    if (isMonthView) {\n      setMonthTodos((prevMonthTodos) => {\n        const newMonthTodos = {}\n        Object.keys(prevMonthTodos).forEach(function (k) {\n          prevMonthTodos[k].forEach(function (t) {\n            let hash = Object.assign(t)\n            if (hash.id === editedTodo.id) {\n              hash = editedTodo\n            }\n            if (!newMonthTodos[k]) {\n              newMonthTodos[k] = []\n            }\n            newMonthTodos[k].push(hash)\n          })\n        })\n        return newMonthTodos\n      })\n    } else {\n      setMonthTodos((prevMonthTodos) => {\n        return {\n          ...prevMonthTodos,\n          [currentDate.day]: prevMonthTodos[currentDate.day].map((todo) => {\n            if (todo.id === editedTodo.id) {\n              return editedTodo\n            }\n            return todo\n          }),\n        }\n      })\n    }\n  }\n\n  function showMonthTodos() {\n    const todos = []\n    for (const day in monthTodos) {\n      if (Object.hasOwnProperty.call(monthTodos, day)) {\n        const element = monthTodos[day]\n        todos.push(...element)\n      }\n    }\n    setDayTodos(todos)\n    setIsMonthView(true)\n  }\n  function getCalendarValue() {\n    const day =\n      currentDate.day.length === 1 ? '0' + currentDate.day : currentDate.day\n    const value = currentDate.month + '-' + day\n    return value\n  }\n  return (\n    <Context.Provider value={{ removeTodo }}>\n      <div className=\"wrapper\">\n        <h1>\n          Ежедневник <Icon />\n        </h1>\n        <div>\n          <input\n            type=\"date\"\n            value={getCalendarValue()}\n            onChange={onDateChange}\n          />\n          <button\n            onClick={showMonthTodos}\n            style={{ marginLeft: '0.5em' }}\n            data-tip=\"Отобразить список за месяц\"\n            data-for=\"main\"\n          >\n            Месяц\n          </button>\n          <ReactTooltip id=\"main\" place=\"top\" type=\"dark\" effect=\"solid\" />\n        </div>\n        <React.Suspense fallback={<Loader />}>\n          <AddTodo onCreate={addTodo} />\n        </React.Suspense>\n        <div style={{ width: '100%' }}>\n          {dayTodos.length ? (\n            <TodoList\n              todos={dayTodos}\n              onToggle={toggleTodo}\n              onEdit={editTodo}\n            />\n          ) : (\n            <p align=\"center\">Добавьте запись</p>\n          )}\n        </div>\n      </div>\n    </Context.Provider>\n  )\n}\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n\n"],"sourceRoot":""}